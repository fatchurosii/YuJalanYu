{% load static %}
{% load humanize %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	{% include 'include/css.html' %}
	<title>{{title}}</title>
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light shadow-sm">
		<a class="navbar-brand ml-5" href="#">
		  <img src="{%static 'images/logo.png' %}" alt="">
		</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
		  <span class="navbar-toggler-icon"></span>
		</button>
	  
	   
	  </nav>

	
<main>

   
    <div class="d-flex align-items-center mt-2">
        <div class="col text-center">
            <img src="{% static 'images/payment.jpg' %}" width="500px" alt="">
            <h1>
               Yuk! Tinggal Satu Langkah Lagi 
            </h1>
            <p>
                Kamu dapat menikmati perjalanan yang kamu impikan
            </p>
            <a href="" id="pay-button" class="btn btn-payment mt-3 px-3">
                BAYAR
            </a>
            
        </div>
    </div>
</main>
	{# <a href="{% url 'home' %}" id="pay-button">Pay!</a>  #}
    {# <pre><div id="result-json">JSON result will appear here after payment:<br></div></pre> #}
	
	<script src="https://app.sandbox.midtrans.com/snap/snap.js" data-client-key="SB-Mid-client-EOjbQuFJwheGValW">
	
	</script>
    <script type="text/javascript">
    	console.log('ini token : {{token}}');
    	// var token = "{{token}}"
      document.getElementById('pay-button').onclick = function(){
        // SnapToken acquired from previous step
        snap.pay({
          // Optional
          onSuccess: function(result){
          	console.log('Success');
            /* You may add your own js here, this is just example */ document.getElementById('result-json').innerHTML += JSON.stringify(result, 'http://127.0.0.1:8000/', 2);
          },
          // Optional
          onPending: function(result){
            /* You may add your own js here, this is just example */ document.getElementById('result-json').innerHTML += JSON.stringify(result, null, 2);
          },
          // Optional
          onError: function(result){
            /* You may add your own js here, this is just example */ document.getElementById('result-json').innerHTML += JSON.stringify(result, null, 2);
          }
        });
      };
    </script>
</body>
</html>
